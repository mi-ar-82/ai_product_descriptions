<!-- File: templates/dashboard.html -->
{% extends "base.html" %}

{% block content %}
<div class="dashboard">
  <h2>Welcome, {{ user.email }}</h2>

  <!-- Upload Section -->
  <section class="upload-section">
    <h3>Recent Uploads</h3>
    <div class="file-list">
      {% for file in files %}
      <div class="file-item">
        <span class="filename">{{ file.file_name }}</span>
        <span class="upload-date">{{ file.upload_date }}</span>
        <span class="status {{ file.status|lower }}">{{ file.status }}</span>
      </div>
      {% else %}
      <p>No files uploaded yet</p>
      {% endfor %}
    </div>
  </section>

  <!-- Current Settings -->
  <section class="current-settings">
    <h3>Current Configuration</h3>
    {% if settings %}
    <dl>
      <dt>Photo Resolution:</dt>
      <dd>{{ settings.photo_resolution }}</dd>
      <dt>File Size Limit:</dt>
      <dd>{{ settings.file_size_limit }}</dd>
      <dt>AI Prompt Base:</dt>
      <dd class="prompt-preview">{{ settings.openai_prompt_base|truncate(100) }}</dd>
      <dt>Tone:</dt>
      <dd>{{ settings.tone }}</dd>
      <dt>Length:</dt>
      <dd>{{ settings.length }}</dd>
    </dl>
    {% else %}
    <p>No settings configured yet</p>
    {% endif %}
    <a href="/settings" class="btn-configure">Configure Settings</a>
  </section>
</div>
{% endblock %}
